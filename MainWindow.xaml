<Window x:Class="Momo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Icon="Assets/momo.ico"
        Title="MomoKun"
        ShowInTaskbar="True"
        Width="300"
        Height="300"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="#01000000"
        Topmost="False"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">

    <Grid>

        <!-- Menú contextual -->
        <Grid.ContextMenu>
            <ContextMenu>
                <MenuItem Header="⚙ Configuración"
                          Click="Config_Click"/>
                <Separator/>
                <MenuItem Header="❌ Cerrar Momo"
                          Click="Close_Click"/>
            </ContextMenu>
        </Grid.ContextMenu>

        <!-- Globo de texto -->
        <Border x:Name="SpeechBubble"
                Visibility="Collapsed"
                Background="#EEFFFFFF"
                CornerRadius="16"
                Padding="10"
                MaxWidth="220"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="10">

            <TextBlock x:Name="MomoText"
                       TextWrapping="Wrap"
                       FontSize="13"
                       Foreground="Black"/>
        </Border>

        <!-- Panel de entrada -->
        <Border x:Name="InputPanel"
                Visibility="Collapsed"
                Background="#DDFFFFFF"
                CornerRadius="12"
                Padding="8"
                Width="220"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Center"
                Margin="0,0,0,10">

            <Grid>
                <TextBox x:Name="UserInput"
                         Height="30"
                         VerticalContentAlignment="Center"
                         KeyDown="UserInput_KeyDown"
                         TextChanged="UserInput_TextChanged"/>

                <TextBlock x:Name="UserInputPlaceholder"
                           Text="Escríbeme algo…"
                           Foreground="Gray"
                           Margin="8,0,0,0"
                           VerticalAlignment="Center"
                           IsHitTestVisible="False"/>
            </Grid>
        </Border>

        <!-- Mascota -->
        <Image x:Name="MomoImage"
               Source="Assets/momo.png"
               Stretch="Uniform"
               MouseLeftButtonUp="Momo_Click"/>

    </Grid>
</Window>
